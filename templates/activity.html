{% extends "layout.html" %}

{% block content %}
    <h1>Provenance Management Service</h1>
    {% if ACTIVITY %}
        <h2>An Activity</h2>
        <h3>URI: {{ACTIVITY['uri']}}</h3>
        <table class="lines">
            <tr><th>Title:</th><td>{{ACTIVITY['l']}}</td></tr>
            {% if ACTIVITY['sat'] %}
            <tr><th>Started at:</th><td>{{ACTIVITY['sat']}}</td></tr>
            {% endif %}
            {% if ACTIVITY['eat'] %}
            <tr><th>Ended at:</th><td>{{ACTIVITY['eat']}}</td></tr>
            {% endif %}
            {% if ACTIVITY['waw'] %}
            <tr><th>Was associated with:</th><td>{{ACTIVITY['waw']}}</td></tr>
            {% endif %}
        </table>
        {% if ACTIVITY['a_script'] %}
            <h4>Neighbours view</h4>
            <script src="/static/js/d3.min.js" charset="utf-8"></script>
            <style>
                svg {
                    /*border: solid 1px #eeeeee;*/
                    margin-left:75px;
                }
            </style>
            <script>
                {{ACTIVITY['a_script'] | safe}}
            </script>
        {% endif %}
    {% elif ACTIVITIES %}
        <h2>Activities Register</h2>
        {% if ACTIVITIES|length == 0 %}
            <p>No Activities found.</p>
        {% else %}
            <ul>
            {% for activity in ACTIVITIES %}
                <li><a href="{{PROMS_INSTANCE_NAMESPACE_URI}}id/activity?uri={{activity['a']}}">
                    {% if activity['l'] -%}
                        {{activity['l']}}
                    {% else %}
                        {{activity['a_u']}}
                    {% endif %}
                    </a>
                    {% if activity['l'] -%}
                        ({{activity['a_u']}})
                    {% endif %}
                </li>
            {% endfor %}
            </ul>
        {% endif %}
    {% else %}
        <p>No Activity information found.</p>
    {% endif %}
{% endblock %}